# 맵 방문하기

- **정답률**: 57%  
- **총 제출 수**: 7회  

---

## 🧩 문제 설명

N × M 크기의 격자가 주어집니다.  
각 칸에는 이동 방향을 나타내는 문자 하나가 적혀 있으며, 문자는 다음 중 하나입니다.

- `L`: 왼쪽
- `R`: 오른쪽
- `U`: 위쪽
- `D`: 아래쪽

코디는 격자의 **임의의 한 칸**을 시작점으로 선택해 이동을 시작합니다.

---

## 🚶 이동 규칙

현재 칸의 문자가 가리키는 방향으로 **인접한 다음 칸**으로 이동합니다.  
다음 칸으로 이동하려 할 때, 아래 중 하나라도 해당하면 **즉시 이동을 중단**합니다.

1. 격자 **바깥**으로 나가는 경우
2. 이미 방문했던 칸을 **다시 방문**하게 되는 경우

중단 조건에 해당하지 않으면, 다음 칸으로 이동한 뒤 위 과정을 반복합니다.

---

## ✨ 마법 규칙 (최대 1번)

이동을 시작하기 전, 코디는 **최대 한 번** 마법을 사용할 수 있습니다 (사용하지 않아도 됨).

마법의 효과는 다음과 같습니다.

1. 격자의 **임의의 한 행(Row)** 또는 **임의의 한 열(Column)** 하나를 선택합니다.
2. 선택한 줄의 모든 칸의 문자를, 원하는 하나의 문자(`L`, `R`, `U`, `D` 중 하나)로 **전부 변경**합니다.

---

## 🎯 목표

마법을 적절히 사용(또는 미사용)하고, 시작점을 최적으로 선택했을 때  
코디가 방문할 수 있는 **칸의 개수의 최댓값**을 구하세요.

---

## 📥 입력

- 첫 줄에 정수 **N, M**이 주어집니다.
- 다음 N줄에 길이 M의 문자열이 주어집니다.
  - 각 문자는 `L`, `R`, `U`, `D` 중 하나입니다.

---

## 📤 출력

- 마법을 적절히 사용했을 때, 방문 가능한 칸의 **최대 개수**를 출력합니다.

---

## ⚙️ 제한 조건

- \(1 \le N, M \le 30\)
- 각 문자열은 `L`, `R`, `U`, `D`로만 이루어져 있습니다.

---

## ✅ 입력 예제 1
```
4 5
LDRUL
RLRLD
RULUU
UUDDL
```

## ✅ 출력 예제 1
```
7
```

---

## ✅ 입력 예제 2
```
3 3
RRD
RUD
ULL
```

## ✅ 출력 예제 2
```
9
```